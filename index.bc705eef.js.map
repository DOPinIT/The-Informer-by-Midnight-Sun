{"mappings":"0DACAA,OAAOC,eAAeC,EAAS,aAAc,CACzCC,OAAO,IAEXD,EAAQE,QACR,SAAyBC,EAAKC,EAAKH,GAC3BG,KAAOD,EACPL,OAAOC,eAAeI,EAAKC,EAAK,CAC5BH,MAAOA,EACPI,YAAY,EACZC,cAAc,EACdC,UAAU,IAGdJ,EAAIC,GAAOH,EAEf,OAAOE,C,ECsDX,MAAMK,EAAU,IA1DhB,MAIEC,uBACE,aAAaC,MAAM,0GAChBC,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAEZ,OAAOF,EAASG,MAAM,IAEvBJ,MAAKK,IACJ,GAAyB,IAArBA,EAAKC,YACP,MAAM,IAAIH,MAIZ,OADAI,KAAKC,SAAWH,EAAKI,QAAQC,KAAIC,GAAWA,EAAQC,UAC7CP,EAAKI,QAAQC,KAAIC,GAAWA,EAAQE,cAAa,G,CAI9Df,+BAA+BgB,GAC7B,aAAaf,MACX,oDAAwBe,mDAEvBd,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAEZ,OAAOF,EAASG,MAAM,IAEvBJ,MAAKK,GAAQA,G,CAGlBP,wBAAwBiB,GACtB,aAAahB,MAAM,8DAAwBgB,8CACxCf,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAM,4BAElB,OAAOF,EAASG,MAAM,IAEvBJ,MAAKK,GAAQA,G,CAGlBP,8BACE,aAAaC,MAAM,qGAChBC,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAEZ,OAAOF,EAASG,MAAM,IAEvBJ,MAAKK,GAAQA,G,CApDlBW,cADAC,EAAA5B,EAAA,CAAAkB,KAAA,WAAW,G,GA0DcV,EAAQqB,iBAAiBlB,MAAKmB,IACvDC,QAAQC,IAAIF,EAAY,IAK1BtB,EACGyB,yBAHiB,YAIjBtB,MAAKuB,GACJH,QAAQC,IAAI,6BAA8BE,EAASd,WAGvDZ,EACG2B,kBAAkB,WAClBxB,MAAKK,GAAQe,QAAQC,IAAIhB,EAAKJ,SAASwB,QACvCC,OAAMC,GAASP,QAAQC,IAAIM,EAAMC,WAEpC/B,EACGgC,wBACA7B,MAAK8B,GACJV,QAAQC,IAAI,4BAA6BS,EAAmBrB","sources":["node_modules/@swc/helpers/lib/_define_property.js","src/JS/newsAPI.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n","const KEY = 'S9P6gsklItZ6AfgyQULO5BfOKZag8n9Y';\nconst SECTIONS_URL =\n  'https://api.nytimes.com/svc/news/v3/content/section-list.json?';\n\nconst SECTION_SEARCH_URL = 'https://api.nytimes.com/svc/news/v3/content/inyt/';\n\nconst ARTICLE_SEARCH_URL =\n  'https://api.nytimes.com/svc/search/v2/articlesearch.json?q=';\n\nconst MOST_VIEWED_ARTICLES_URL =\n  'https://api.nytimes.com/svc/mostpopular/v2/viewed/1.json?';\n\nclass NewsApi {\n  sections = '';\n  constructor() {}\n\n  async getSectionList() {\n    return await fetch(`${SECTIONS_URL}api-key=${KEY}`)\n      .then(response => {\n        if (!response.ok) {\n          throw new Error();\n        }\n        return response.json();\n      })\n      .then(data => {\n        if (data.num_results === 0) {\n          throw new Error();\n        }\n\n        this.sections = data.results.map(element => element.section);\n        return data.results.map(element => element.display_name);\n      });\n  }\n\n  async getNewsListBySectionName(sectionName) {\n    return await fetch(\n      `${SECTION_SEARCH_URL}${sectionName}.json?api-key=${KEY}`\n    )\n      .then(response => {\n        if (!response.ok) {\n          throw new Error();\n        }\n        return response.json();\n      })\n      .then(data => data);\n  }\n\n  async articleSearchList(searchQuery) {\n    return await fetch(`${ARTICLE_SEARCH_URL}${searchQuery}&api-key=${KEY}`)\n      .then(response => {\n        if (!response.ok) {\n          throw new Error('We did not find anything');\n        }\n        return response.json();\n      })\n      .then(data => data);\n  }\n\n  async getMostViewedArticles() {\n    return await fetch(`${MOST_VIEWED_ARTICLES_URL}api-key=${KEY}`)\n      .then(response => {\n        if (!response.ok) {\n          throw new Error();\n        }\n        return response.json();\n      })\n      .then(data => data);\n  }\n}\n\nconst newsApi = new NewsApi();\nconst sectionListPromise = newsApi.getSectionList().then(sectionList => {\n  console.log(sectionList);\n});\n\nconst sectionName = 'business';\n\nnewsApi\n  .getNewsListBySectionName(sectionName)\n  .then(newsList =>\n    console.log('News list by section name ', newsList.results)\n  );\n\nnewsApi\n  .articleSearchList('ukraine')\n  .then(data => console.log(data.response.docs))\n  .catch(error => console.log(error.message));\n\nnewsApi\n  .getMostViewedArticles()\n  .then(mostViewedArticles =>\n    console.log('The most viewed articles ', mostViewedArticles.results)\n  );\n"],"names":["Object","defineProperty","$da4b248c00322402$exports","value","default","obj","key","enumerable","configurable","writable","$5815c6d8b6c8a016$var$newsApi","async","fetch","then","response","ok","Error","json","data","num_results","this","sections","results","map","element","section","display_name","sectionName1","searchQuery","constructor","$parcel$interopDefault","getSectionList","sectionList","console","log","getNewsListBySectionName","newsList","articleSearchList","docs","catch","error","message","getMostViewedArticles","mostViewedArticles"],"version":3,"file":"index.bc705eef.js.map"}
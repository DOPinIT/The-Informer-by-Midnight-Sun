{"mappings":"qsBAEA,IAAAA,EAAAC,EAAA,S,aAAMC,EAAgBC,SAASC,cAAc,YAEvCC,EAAU,mCAEVC,EAAO,IAAIC,KACXC,EAAO,CACX,SACA,SACA,UACA,YACA,WACA,SACA,YAgBIC,EAAOH,EAAKI,cACZC,GAAO,IAAML,EAAKM,WAAWC,OAAM,GACnCC,EAhBS,CACb,UACA,WACA,QACA,QACA,MACA,OACA,OACA,SACA,YACA,UACA,WACA,YAImBR,EAAKS,YACpBC,EAAc,GAAUC,OAAPN,EAAI,KAAYM,OAATH,EAAM,KAAQG,OAALR,GAIxB,SAAAS,IACVC,UAAUC,aACXD,UAAUC,YAAYC,mBAAmBC,EAAcC,E,UAI5CD,EAAaE,G,OAAbC,EAAYC,MAAAC,KAAAC,U,UAAZH,I,OAAAA,EAAfI,EAAA7B,EAAA,CAAA6B,EAAAC,GAAAC,MAAA,SAAAC,EAA4BR,G,IACpBS,EAEAC,EACAC,E,yEAHAF,EAAM,oEAA+FhB,OAA3BO,EAAIY,OAAOC,SAAS,SAA0DpB,OAAnDO,EAAIY,OAAOE,UAAU,gCAAsCrB,OAARZ,G,SAEtIkC,MAAM,GAAOtB,OAAJgB,I,cAA3BC,EAASM,EAAAC,K,SACMP,EAAUQ,O,OAAzBP,EAAMK,EAAAC,KAERP,EAAUS,GACZC,EAAoBT,GAEpBU,QAAQC,IAAIZ,EAAUa,S,4CATCrB,MAAAC,KAAAC,U,UAgBZL,I,OAAAyB,EAAWtB,MAAAC,KAAAC,U,UAAXoB,I,OAAAA,EAAfnB,EAAA7B,EAAA,CAAA6B,EAAAC,GAAAC,MAAA,SAAAC,I,IACQiB,EACAC,EACAC,E,yEAFAF,EAAiB,qGAA6GhC,OAARZ,G,SAC/FkC,MAAM,GAAkBtB,OAAfgC,I,cAAhCC,EAAcV,EAAAC,K,SACQS,EAAeR,O,OAArCS,EAAaX,EAAAC,KACfS,EAAeP,IACjBC,EAAoBO,G,4CALEzB,MAAAC,KAAAC,U,CAWO,SAAxBgB,EAAoBQ,GAC3B,IAAMC,EAAOC,KAAKC,MAAMH,EAAKI,KAAKH,MAC5BI,EAAWL,EAAKM,KAChBC,EAAgBP,EAAKQ,QAAQ,GAAGJ,KAChCK,EAAcT,EAAKQ,QAAQ,GAAGE,KAE9BC,EAAavD,EAAKF,EAAK0D,UAEvBC,EAAW,yJAOqBhD,OAJEoC,EAAK,+HAaGpC,OATV0C,EAAc,q2BAiBD1C,OARHwC,EAAS,4UAcbxC,OANO4C,EAAY,2RAOjB5C,OADF8C,EAAW,2DACG9C,OAAZD,EAAY,kPAQ1D,OADAb,SAASC,cAAc,YAAY8D,UAAYD,EACvC/D,EAAcgE,UAAYD,C,CAGhCE,QACF5C,IAGErB,GACAgB,G","sources":["src/JS/weatherAPI.js"],"sourcesContent":["// Доступ до блоку погоди\n\nconst weatherWidget = document.querySelector('.weather');\n\nconst API_KEY = 'fccf2d671c66d0d845cceb32d377da4e';\n\nconst date = new Date();\nconst days = [\n  'Sunday',\n  'Monday',\n  'Tuesday',\n  'Wednesday',\n  'Thursday',\n  'Friday',\n  'Saturday',\n];\nconst months = [\n  'January',\n  'February',\n  'March',\n  'April',\n  'May',\n  'June',\n  'July',\n  'August',\n  'September',\n  'October',\n  'November',\n  'December',\n];\nconst year = date.getFullYear();\nconst day = ('0' + date.getDate()).slice(-2);\nconst month = months[date.getMonth()];\nconst currentDate = `${day} ${month} ${year}`;\n\n// Вивід погоди в залежності від відповіді користувача, при дозволі погода по місцезнаходженні,ні погода в Донецьку\n\nexport default function getWeather() {\n if (navigator.geolocation) {\n    navigator.geolocation.getCurrentPosition(showPosition, showDonetsk);\n  }\n}\n\nasync function showPosition(pos) {\n  const URL = `https://api.openweathermap.org/data/2.5/weather?units=metric&lat=${pos.coords.latitude}&lon=${pos.coords.longitude}&exclude=hourly,daily&appid=${API_KEY}`;\n\n  const requestOn = await fetch(`${URL}`);\n  const result = await requestOn.json();\n\n  if (requestOn.ok) {\n    renderWeatherMarkup(result);\n  } else {\n    console.log(requestOn.message);\n  }\n\n}\n\n// Запит для погоди в Донецьку\n\nasync function showDonetsk() {\n  const DonetskWeather = `https://api.openweathermap.org/data/2.5/weather?units=metric&q=donetsk&exclude=hourly,daily&appid=${API_KEY}`;\n  const requestDonetsk = await fetch(`${DonetskWeather}`);\n  const resultDonetsk = await requestDonetsk.json();\n  if (requestDonetsk.ok) {\n    renderWeatherMarkup(resultDonetsk);\n  }\n}\n\n\n// Шаблон для відображання погоди погоди \nfunction renderWeatherMarkup(data) {\n  const temp = Math.round(data.main.temp);\n  const location = data.name;\n  const statusWeather = data.weather[0].main;\n  const weatherIcon = data.weather[0].icon;\n\n  const currentDay = days[date.getDay()];\n\n  const template = `        \n                <div class=\"weather__forecast-day\">\n          <div class=\"weather__temp-wrapper\">\n            <span class=\"weather__temp\">${temp}°</span>\n          </div>\n\n          <div class=\"weather__forecast-day-wrapper\">\n            <div class=\"weather__sky\">${statusWeather}</div>\n            <div class=\"weather__place\">\n              <svg class=\"weather__place-icon\">\n<svg \n<symbol id=\"place-weather\" viewBox=\"0 0 32 32\">\n<path d=\"M16 2c-2.916 0.003-5.712 1.163-7.774 3.226s-3.222 4.858-3.226 7.774c-0.003 2.383 0.775 4.702 2.216 6.6 0 0 0.3 0.395 0.349 0.452l8.435 9.948 8.439-9.953c0.044-0.053 0.345-0.447 0.345-0.447l0.001-0.003c1.44-1.897 2.218-4.215 2.215-6.597-0.003-2.916-1.163-5.712-3.226-7.774s-4.858-3.222-7.774-3.226zM16 17c-0.791 0-1.564-0.235-2.222-0.674s-1.171-1.064-1.473-1.795c-0.303-0.731-0.382-1.535-0.228-2.311s0.535-1.489 1.095-2.048 1.272-0.94 2.048-1.095c0.776-0.154 1.58-0.075 2.311 0.228s1.356 0.815 1.795 1.473c0.44 0.658 0.674 1.431 0.674 2.222-0.001 1.060-0.423 2.077-1.173 2.827s-1.767 1.172-2.827 1.173z\"></path>\n</symbol>\n</svg>\n              </svg>\n              <span class=\"weather__place-text\">${location}</span>\n            </div>\n          </div>\n        </div>\n        <!-- * Іконка погоди -->\n        <!-- & Варіант зображення для тегу  div -->\n        <!-- <div class=\"weather__img\"></div> -->\n        <!-- & Варіант зображення для тегу img -->\n        <img src=\"http://openweathermap.org/img/wn/${weatherIcon}@4x.png\" alt=\"weather-icon\" class=\"weather__img\" />\n        <!-- */ Іконка погоди -->\n\n        <!-- Нижня частина погоди -->\n        <div class=\"weather__bottom-wrapper\">\n          <div class=\"weather__wrapper-date\">\n            <span class=\"weather__week-day\">${currentDay}</span>\n            <span class=\"weather__date-today\">${currentDate}</span>\n          </div>\n          <!-- <div class=\"weather__forecast-week\"> -->\n          <a href=\"https://sinoptik.ua/\" class=\"weather__link\" target=\"_blank\">Weather for week</a>\n          <!-- </div> -->\n        </div>`;\n  \n  document.querySelector('.weather').innerHTML = template;\n  return (weatherWidget.innerHTML = template);\n}\n\nif (window) {\n  showDonetsk();\n};\n\nif (weatherWidget) {\n    getWeather();\n}\n\n\n\n"],"names":["$bpxeT","parcelRequire","$4d3792794e7e5fde$var$weatherWidget","document","querySelector","$4d3792794e7e5fde$var$API_KEY","$4d3792794e7e5fde$var$date","Date","$4d3792794e7e5fde$var$days","$4d3792794e7e5fde$var$year","getFullYear","$4d3792794e7e5fde$var$day","getDate","slice","$4d3792794e7e5fde$var$month","getMonth","$4d3792794e7e5fde$var$currentDate","concat","$4d3792794e7e5fde$export$2e2bcd8739ae039","navigator","geolocation","getCurrentPosition","$4d3792794e7e5fde$var$showPosition","$4d3792794e7e5fde$var$showDonetsk","pos","$4d3792794e7e5fde$var$_showPosition","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","URL","requestOn","result","coords","latitude","longitude","fetch","_ctx","sent","json","ok","$4d3792794e7e5fde$var$renderWeatherMarkup","console","log","message","$4d3792794e7e5fde$var$_showDonetsk","DonetskWeather","requestDonetsk","resultDonetsk","data","temp","Math","round","main","location","name","statusWeather","weather","weatherIcon","icon","currentDay","getDay","template","innerHTML","window"],"version":3,"file":"index.f06a0167.js.map"}